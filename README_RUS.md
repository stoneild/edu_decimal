# edu_matrix
## Обзор
edu_decimal — проект, созданный для образовательных целей.

В этом проекте реализована статическая библиотека s21_decimal.a на языке программирования C для работы с типом "decimal".

Двоичное представление числа типа decimal состоит из 1-битного знака, 96-битного целого числа и коэффициента масштаба, используемого для деления числа и определения его дробной части. Масштабный множитель представляет собой число 10, возведённое в степень от 0 до 28.

Число decimal реализовано как массив из четырёх элементов, содержащих 32-битные целые числа (int bits[4];).

bits[0], bits[1], bits[2] содержат младшие, средние и старшие 32 бита 96-битного целого числа.

bits[3] хранит масштабный коэффициент и знак. Структура: 
Биты 0–15: не используются, должны быть равны нулю.
Биты 16–23: содержат показатель степени от 0 до 28, обозначающий степень числа 10 для деления.
Биты 24–30: не используются, должны быть равны нулю.
Бит 31: знак числа (0 — положительное, 1 — отрицательное).

## Зависимости
Для сборки и запуска проекта потребуются следующие зависимости:
- gcc: для компиляции объектных файлов;
- binutils: для создания статической библиотеки и генерации индекса архива;
- make: для сборки проекта из Makefile;
- checkmk: из пакета check (для генерации C unit-тестов;
- lcov: для отчёта по покрытию.

## Цели Makefile
Makefile определяет следующие цели:
- **all**, **s21_matrix.a**: сборка библиотеки s21_matrix.a из исходных файлов;
- **test**: пересборка проекта, компиляция тестового исполнимого файла и запуск тестов;
- **gcov_report**: запуск тестов с покрытием и генерация HTML-отчёта для визуализации покрытия;
- **clean**: удаление объектных файлов, данных покрытия и промежуточных файлов;
- **rebuild**: очистка проекта и пересборка с нуля;
- **remove**: удаление библиотеки и всех промежуточных файлов, очистка проекта.

Для выполнения целей в каталоге src используйте команду:

```
make [goal]
```

## Реализованные операции
### Арифметические операторы

| Название оператора | Оператор  | Функция                                                                            | 
| ------ | ------ |------------------------------------------------------------------------------------|
| Сложение | + | int s21_add(s21_decimal value_1, s21_decimal value_2, s21_decimal *result)         |
| Вычитание | - | int s21_sub(s21_decimal value_1, s21_decimal value_2, s21_decimal *result)         |
| Умножение | * | int s21_mul(s21_decimal value_1, s21_decimal value_2, s21_decimal *result) | 
| Деление | / | int s21_div(s21_decimal value_1, s21_decimal value_2, s21_decimal *result) |

Функции возвращают код ошибки:  
- 0 - OK  
- 1 - число слишком велико или равно бесконечности
- 2 - число слишком мало или равно отрицательной бесконечности
- 3 - деление на 0

### Операторы сравнение

| Название оператора | Оператор  | Функция | 
| ------ | ------ | ------ |
| Меньше  | < | int s21_is_less(s21_decimal, s21_decimal) |
| Меньше или равно | <= | int s21_is_less_or_equal(s21_decimal, s21_decimal) | 
| Больше | \> |  int s21_is_greater(s21_decimal, s21_decimal) |
| Больше или равно | \>= | int s21_is_greater_or_equal(s21_decimal, s21_decimal) | 
| Равно | == |  int s21_is_equal(s21_decimal, s21_decimal) |
| Не равно | != |  int s21_is_not_equal(s21_decimal, s21_decimal) |

Возвращаемое значение:
- 0 - FALSE
- 1 - TRUE

### Преобразователи 

| Преобразователь | Функция | 
| ------ | ------ |
| Из int | int s21_from_int_to_decimal(int src, s21_decimal *dst) |
| Из float  | int s21_from_float_to_decimal(float src, s21_decimal *dst) |
| В int  | int s21_from_decimal_to_int(s21_decimal src, int *dst) |
| В float  | int s21_from_decimal_to_float(s21_decimal src, float *dst) |

Возвращаемое значение - код ошибки:
 - 0 - OK
 - 1 - ошибка конвертации

### Другие функции

| Описание | Функция                                                  | 
| ------ |----------------------------------------------------------|
| Округляет указанное decimal число до ближайшего целого числа в сторону отрицательной бесконечности. | int s21_floor(s21_decimal value, s21_decimal *result)    |	
| Округляет decimal до ближайшего целого числа. | int s21_round(s21_decimal value, s21_decimal *result)    |
| Возвращает целые цифры указанного decimal числа; любые дробные цифры отбрасываются, включая конечные нули. | int s21_truncate(s21_decimal value, s21_decimal *result) |
| Возвращает результат умножения указанного decimal на -1. | int s21_negate(s21_decimal value, s21_decimal *result)   |

Возвращаемое значение - код ошибки:
 - 0 - OK
 - 1 - ошибка вычисления

## Лицензия
Этот проект распространяется по лицензии GNU General Public License, как указано в файле [LICENSE.txt](./LICENSE.txt). Для подробной информации, пожалуйста, ознакомьтесь с файлом [LICENSE.txt](./LICENSE.txt).
